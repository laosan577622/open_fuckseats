{% extends 'base.html' %}

{% block title %}班级列表{% endblock %}

{% block actions %}
<div class="header-action-row office-ribbon-row">
    <div class="ribbon-group">
        <a href="{% url 'create_classroom' %}" class="btn btn-primary">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 5V19M5 12H19" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            新建班级
        </a>
        <span class="ribbon-group-label">班级</span>
    </div>
</div>
{% endblock %}

{% block content %}
<section class="home-hero animate-fade-in">
    <h1>一键排座，随时调整</h1>
    <p>先创建班级，再导入学生，最后用自动排座和约束规则快速得到可用方案。</p>
</section>

<section class="classrooms-grid animate-fade-in">
    {% for classroom in classrooms %}
    <a href="{% url 'classroom_detail' classroom.pk %}" class="classroom-card-link">
        <article class="card classroom-card">
            <header class="classroom-card-header">
                <h3>{{ classroom.name }}</h3>
                <span class="pill">进入管理</span>
            </header>
            <div class="classroom-metrics">
                <div>
                    <strong>{{ classroom.rows }} × {{ classroom.cols }}</strong>
                    <span>座位网格</span>
                </div>
                <div>
                    <strong>{{ classroom.students.count }}</strong>
                    <span>学生人数</span>
                </div>
                <div>
                    <strong>{{ classroom.seats.count }}</strong>
                    <span>总座位</span>
                </div>
            </div>
        </article>
    </a>
    {% empty %}
    <div class="empty-hero">
        <p>还没有班级，点击右上角“新建班级”开始。</p>
    </div>
    {% endfor %}
</section>
{% endblock %}

{% extends 'base.html' %}

{% block title %}新建班级{% endblock %}

{% block actions %}
<div class="header-action-row office-ribbon-row">
    <div class="ribbon-group">
        <a href="{% url 'index' %}" class="btn btn-secondary">返回首页</a>
        <span class="ribbon-group-label">导航</span>
    </div>
</div>
{% endblock %}

{% block content %}
<div class="form-page animate-fade-in">
    <div class="card form-card create-classroom-card">
        <h2>创建新班级</h2>
        <p class="create-subtitle">建议先使用默认行列，后续可在“布局编辑”继续精调。</p>
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="name">班级名称</label>
                <input type="text" id="name" name="name" required placeholder="例如：高二（3）班">
            </div>

            <div class="form-grid-two">
                <div class="form-group">
                    <label for="rows">座位行数</label>
                    <input type="number" id="rows" name="rows" value="6" required min="1" max="20">
                </div>
                <div class="form-group">
                    <label for="cols">座位列数</label>
                    <input type="number" id="cols" name="cols" value="8" required min="1" max="20">
                </div>
            </div>

            <div class="layout-preset">
                <button type="button" class="btn btn-secondary preset-btn" data-rows="6" data-cols="8">常规教室 6×8</button>
                <button type="button" class="btn btn-secondary preset-btn" data-rows="7" data-cols="8">人数较多 7×8</button>
                <button type="button" class="btn btn-secondary preset-btn" data-rows="5" data-cols="6">小班 5×6</button>
            </div>

            <button type="submit" class="btn btn-primary create-submit-btn">创建班级</button>
        </form>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const rowsInput = document.getElementById('rows');
        const colsInput = document.getElementById('cols');
        document.querySelectorAll('.preset-btn').forEach((btn) => {
            btn.addEventListener('click', () => {
                rowsInput.value = btn.dataset.rows;
                colsInput.value = btn.dataset.cols;
            });
        });
    });
</script>
{% endblock %}

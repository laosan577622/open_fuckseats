# 排座系统

这是一个基于 Python + Django 的 Web 排座系统，专为排座与布局管理设计。

## 功能特性
- 创建和管理多个班级
- 可视化座位布局编辑（座位/走廊/讲台/空位）
- 拖拽排座、暂存区与快捷键操作
- 导入/导出学生名单（Excel）与排座表
- 自动排座（随机、按成绩、相邻差异、前后排）
- 小组系统与小组登记表导出
- 指定约束（行/列/座位/相邻/禁止相邻）
- 布局快照与 .seats 自有格式导入导出


## 安装与运行

1. 安装依赖:
   ```bash
   pip3 install -r requirements.txt
   ```

2. 初始化数据库 (首次运行):
   ```bash
   python3 manage.py migrate
   ```

3. **启动服务**:
   ```bash
   python3 run_app.py
   ```
   浏览器访问：`http://127.0.0.1:23948`

## 快捷键
- 撤销：Ctrl+Z
- 重做：Ctrl+Y
- 复制：Ctrl+C
- 剪切：Ctrl+X
- 粘贴：Ctrl+V
- 删除：Delete
- 移动到暂存区：Ctrl+D
- 从暂存区取出：Ctrl+U

## 使用指南

### 班级导入
支持通过 Excel 文件批量导入学生信息。
1. 进入班级详情页，点击工具栏中的“导入名单”。
2. 上传 .xlsx 或 .xls 文件。
3. 文件必须包含表头 `姓名`。
   - 可选列：`学号`、`性别`（男/女）、`成绩`。
4. 勾选“清空现有名单”可覆盖当前班级所有学生。

### 快照系统
快照系统允许您随时保存当前的座位布局瞬间。
- **保存快照**：在调整好座位后，点击“保存快照”并命名，即可将当前所有学生的位置、小组分配保存下来。
- **恢复快照**：点击已保存的快照，可以一键恢复到当时的状态。
- **用途**：适用于尝试不同的排座方案，或保存“考试模式”、“日常模式”等不同场景的布局。

## 开发说明
- 后端使用 Django
- 生产级服务器使用 Waitress
- 静态文件由 Whitenoise 服务

若要进行开发调试，可以直接运行 Django 开发服务器:
```bash
python3 manage.py runserver
```

## 注意事项
- 导入 Excel 时，请确保包含“姓名”列，可选“学号”、“性别”、“成绩”列。
- .seats 导入会覆盖当前班级的学生、布局、小组与约束。

## 开发者
- 名称：老三
- 网站：www.577622.xyz
